<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교원 연수 안내 - 아이스크림 AIDT</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo"><a href="index.html" style="text-decoration:none;color:inherit;"><h1>아이스크림 AIDT</h1></a></div>
            </div>
        </div>
        <nav class="gnb">
            <a href="dalcom.html" class="gnb-link">AI기술</a>
            <a href="dallajut.html" class="gnb-link">AIDT 특장점</a>
            <a href="english.html" class="gnb-link">영어</a>
            <a href="math.html" class="gnb-link">수학</a>
            <a href="experience.html" class="gnb-link">체험해봐요</a>
            <div class="gnb-dropdown">
                <a href="training.html" class="gnb-link">교원 연수 안내</a>
                <div class="dropdown-content">
                    <a href="training.html">교원 연수 안내</a>
                    <a href="question.html">질문 있어요</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section class="hero">
            <div class="container" style="text-align:center;">
                <div class="hero-content">
                    <h2 class="hero-title">교원 연수 안내</h2>
                    <p class="hero-subtitle">AI 디지털 교과서 연수를 신청하고, 달력에서 신청 내역을 확인해보세요!</p>
                </div>
            </div>
        </section>
        <div class="notice-box" style="margin-left:auto;margin-right:auto;text-align:center;">
            <b style="font-size:2.2rem;display:block;margin-bottom:1rem;">AI 디지털 교과서 교원 연수 안내</b>
            <div class="info-subbox" style="background:#f4f8ff;border-radius:10px;padding:1.2rem 1.5rem;margin:1.2rem auto 0 auto;max-width:500px;line-height:1.7;color:#234;font-size:1.08rem;">
                <div>AI 디지털 교과서 연수는 최신 인공지능 교육 트렌드를 반영한 혁신적인 프로그램입니다.</div>
                <div>아래 신청서를 작성해주시면, 내부 선정 절차를 거쳐 개별 안내를 드립니다.</div>
                <div>선정되신 분은 연수에 직접 참여하실 수 있습니다.</div>
            </div>
        </div>
        <div style="text-align:center;margin:2.5rem 0 1.2rem 0;">
            <b style="font-size:2.2rem;display:block;">신청 절차</b>
        </div>
        <div class="step-visual-box" style="margin-left:auto;margin-right:auto;">
            <div class="step-visual" style="display:flex;align-items:center;justify-content:center;gap:1.5rem;flex-wrap:nowrap;">
                <div class="step-item" style="text-align:center;min-width:100px;">
                    <div class="step-icon">📝</div>
                    <div class="step-label">신청서 작성</div>
                </div>
                <div class="step-arrow">→</div>
                <div class="step-item" style="text-align:center;min-width:100px;">
                    <div class="step-icon">🏆</div>
                    <div class="step-label">내부 선정</div>
                </div>
                <div class="step-arrow">→</div>
                <div class="step-item" style="text-align:center;min-width:100px;">
                    <div class="step-icon">📧</div>
                    <div class="step-label">안내 메일</div>
                </div>
                <div class="step-arrow">→</div>
                <div class="step-item" style="text-align:center;min-width:100px;">
                    <div class="step-icon">🏫</div>
                    <div class="step-label">연수 참여</div>
                </div>
            </div>
        </div>
        <section class="apply-section" style="max-width:500px;margin:2rem auto;text-align:center;">
            <h2 style="font-size:2.2rem;">교원 연수 안내</h2>
            <form class="apply-form" id="applyForm" style="margin:0 auto;display:flex;flex-direction:column;gap:1.2rem;align-items:stretch;">
                <div>
                    <label for="name" style="display:block;text-align:left;font-size:0.97rem;">이름</label>
                    <input type="text" id="name" required style="width:100%;padding:0.7rem 1rem;">
                </div>
                <div>
                    <label for="phone" style="display:block;text-align:left;font-size:0.97rem;">휴대폰번호</label>
                    <input type="tel" id="phone" required pattern="[0-9]{3}-[0-9]{3,4}-[0-9]{4}" placeholder="010-1234-5678" style="width:100%;padding:0.7rem 1rem;">
                </div>
                <div>
                    <label for="email" style="display:block;text-align:left;font-size:0.97rem;">이메일</label>
                    <input type="email" id="email" required style="width:100%;padding:0.7rem 1rem;">
                </div>
                <div>
                    <label for="date" style="display:block;text-align:left;font-size:0.97rem;">희망 날짜</label>
                    <input type="date" id="date" required style="width:100%;padding:0.7rem 1rem;">
                </div>
                <div>
                    <label for="content" style="display:block;text-align:left;font-size:0.97rem;">신청/문의 내용</label>
                    <textarea id="content" required style="width:100%;min-height:220px;max-width:100%;border-radius:16px;padding:1.2rem 1rem;font-size:1.08rem;resize:vertical;box-sizing:border-box;"></textarea>
                </div>
                <div style="background:#fafbfc;border-radius:16px;padding:2.5rem 2vw 2.5rem 2vw;margin-top:0.7rem;border:1.5px solid #d0d6e0;box-shadow:0 2px 12px rgba(80,120,200,0.07);max-width:100%;width:100%;">
                    <ul style="text-align:left;margin-bottom:1.7rem;font-size:1.22rem;color:#222;font-weight:600;">
                        <li>개인정보 수집 및 이용에 대한 동의 <span style='color:#fd299b;'>(필수)</span></li>
                    </ul>
                    <div style="overflow-x:auto;width:100%;">
                        <table style="width:100%;min-width:700px;border-collapse:separate;border-spacing:0 0.5rem;font-size:1.08rem;margin-bottom:1.2rem;">
                            <thead>
                                <tr style="background:#f4f8ff;font-size:1.08rem;">
                                    <th style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;min-width:120px;">수집 항목</th>
                                    <th style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;min-width:140px;">보유 및 이용 기간</th>
                                    <th style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;min-width:180px;">수집 및 이용 목적</th>
                                    <th style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;min-width:120px;">제공받는 기관</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="background:#fff;">
                                    <td style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;font-size:1.08rem;">이름, 휴대폰번호, 기관명, 기관유형, 지역</td>
                                    <td style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;font-size:1.08rem;">연수 및 교육 종료 후 12개월 이내 파기</td>
                                    <td style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;font-size:1.08rem;">AI 디지털교과서 관련 연수 및 교육 신청 접수 및 운영</td>
                                    <td style="border:1.5px solid #dbe3ea;padding:1rem 0.7rem;font-size:1.08rem;">아이스크림미디어</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="font-size:1.08rem;color:#666;margin-bottom:1.1rem;text-align:left;">개인정보 수집에 동의하지 않으실 수 있으나, 이 경우 신청이 불가능합니다.</div>
                    <div style="display:flex;align-items:center;gap:0.7rem;margin-top:0.7rem;">
                        <input type="checkbox" id="agree" required style="width:22px;height:22px;">
                        <label for="agree" style="font-size:1.13rem;font-weight:500;">동의합니다.</label>
                    </div>
                </div>
                <div id="notice-section" style="margin:1.2rem 0 0 0;font-size:1.08rem;color:#222;text-align:center;">
                    <div style="font-weight:700;font-size:1.13rem;margin-bottom:0.7rem;">신청 유의 사항</div>
                    <div style="margin-bottom:0.3rem;">1. 필수 입력 항목이 누락되면 신청이 완료되지 않습니다.</div>
                    <div style="margin-bottom:0.3rem;">2. 연수 신청이 완료되면 담당자가 순차적으로 연락 드리겠습니다.</div>
                    <div style="margin-bottom:0.3rem;">3. 신청 후 참석 인원, 일정 등 변경 사항이 있을 경우, '신청 접수 중(신청 정보 수정하기)'를 클릭하여 정보를 다시 저장해 주시기 바랍니다.</div>
                    <div style="margin-top:0.2rem;">└ '신청 접수 완료(담당자 확인 중)' 상태에서는 수정이 불가능하며, 아이스크림미디어 담당자에게 연락을 받으실 때 변경사항을 전달해 주시기 바랍니다.</div>
                </div>
                <button type="submit" class="btn btn-primary" style="margin-top:0.5rem;width:100%;padding:1.1rem 0;font-size:1.15rem;background:linear-gradient(90deg,#a259ff 0%,#fd299b 100%);color:#fff;font-weight:700;border-radius:12px;">신청하기</button>
            </form>
        </section>
        <section class="calendar-section" style="max-width:900px;margin:2rem auto;text-align:center;">
            <h2 style="font-size:2.2rem;">신청 내역</h2>
            
            <!-- 달력 네비게이션 -->
            <div class="calendar-navigation" style="display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:1.5rem;">
                <button id="prevMonth" style="background:#e3eaff;border:2px solid #a259ff;color:#a259ff;border-radius:50%;width:40px;height:40px;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;" onmouseover="this.style.background='#a259ff';this.style.color='white';" onmouseout="this.style.background='#e3eaff';this.style.color='#a259ff';">‹</button>
                <h3 id="currentMonth" style="font-size:1.8rem;font-weight:600;color:#234;min-width:200px;margin:0;">2024년 12월</h3>
                <button id="nextMonth" style="background:#e3eaff;border:2px solid #a259ff;color:#a259ff;border-radius:50%;width:40px;height:40px;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease;" onmouseover="this.style.background='#a259ff';this.style.color='white';" onmouseout="this.style.background='#e3eaff';this.style.color='#a259ff';">›</button>
            </div>
            
            <div style="overflow-x:auto;">
            <table class="calendar-table" id="calendarTable" style="margin:0 auto;font-size:1.25rem;min-width:800px;box-shadow:0 8px 32px rgba(80,120,200,0.13);border-radius:24px;overflow:hidden;background:linear-gradient(135deg,#fafdff 60%,#e3eaff 100%);">
                <thead>
                    <tr style="background:#e3eaff;">
                        <th style="padding:1.5rem 0.8rem;font-size:1.1rem;min-width:110px;">일</th><th style="min-width:110px;">월</th><th style="min-width:110px;">화</th><th style="min-width:110px;">수</th><th style="min-width:110px;">목</th><th style="min-width:110px;">금</th><th style="min-width:110px;">토</th>
                    </tr>
                </thead>
                <tbody id="calendarBody">
                    <!-- JS로 달력 생성 -->
                </tbody>
            </table>
            </div>
            <div class="apply-list" id="applyList" style="margin:1.5rem auto 0 auto;text-align:left;max-width:600px;">
                <h3>신청 내역</h3>
                <!-- JS로 신청 내역 표시 -->
            </div>
        </section>
        <script>
            // 달력 상태 관리
            let currentYear = new Date().getFullYear();
            let currentMonth = new Date().getMonth(); // 0~11
            let calendar = [];
            let applyData = [];

            // 월 이름 배열
            const monthNames = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];

            // 달력 생성 함수
            function generateCalendar(year, month) {
                const firstDay = new Date(year, month, 1).getDay();
                const lastDate = new Date(year, month + 1, 0).getDate();
                const prevMonthLastDate = new Date(year, month, 0).getDate();
                
                calendar = [];
                let week = [];
                
                // 이전 달의 마지막 날짜들
                for(let i = firstDay - 1; i >= 0; i--) {
                    week.push({ day: prevMonthLastDate - i, isCurrentMonth: false });
                }
                
                // 현재 달의 날짜들
                for(let d = 1; d <= lastDate; d++) {
                    week.push({ day: d, isCurrentMonth: true });
                    if(week.length === 7) { 
                        calendar.push(week); 
                        week = []; 
                    }
                }
                
                // 다음 달의 첫 날짜들
                let nextMonthDay = 1;
                while(week.length < 7) {
                    week.push({ day: nextMonthDay, isCurrentMonth: false });
                    nextMonthDay++;
                }
                if(week.length) calendar.push(week);
            }

            function renderCalendar() {
                const calendarBody = document.getElementById('calendarBody');
                const currentMonthElement = document.getElementById('currentMonth');
                
                // 현재 월 표시 업데이트
                currentMonthElement.textContent = `${currentYear}년 ${monthNames[currentMonth]}`;
                
                calendarBody.innerHTML = '';
                calendar.forEach(row => {
                    const tr = document.createElement('tr');
                    row.forEach(dayObj => {
                        const td = document.createElement('td');
                        td.textContent = dayObj.day;
                        
                        if(dayObj.isCurrentMonth) {
                            td.style.cssText = 'padding:1.2rem 0.5rem;min-height:100px;vertical-align:top;border:1px solid #e0e8ff;position:relative;';
                            
                            // 해당 날짜에 신청 내역이 있는지 확인
                            const applies = applyData.filter(x => x.date === dayObj.day && x.month === currentMonth && x.year === currentYear);
                            if(applies.length > 0) {
                                td.style.background = 'linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)';
                                td.style.border = '2px solid #ffc107';
                                td.style.borderRadius = '12px';
                                td.style.boxShadow = '0 4px 12px rgba(255,193,7,0.2)';
                                
                                // 신청자 수 표시
                                const countDiv = document.createElement('div');
                                countDiv.style.cssText = 'position:absolute;top:5px;right:5px;background:#ff6b6b;color:white;border-radius:50%;width:20px;height:20px;font-size:0.8rem;display:flex;align-items:center;justify-content:center;font-weight:bold;';
                                countDiv.textContent = applies.length;
                                td.appendChild(countDiv);
                                
                                // 이름 목록 표시
                                const namesDiv = document.createElement('div');
                                namesDiv.style.cssText = 'margin-top:0.5rem;font-size:0.85rem;color:#d63031;font-weight:600;line-height:1.3;';
                                const names = applies.map(x => x.name).join(', ');
                                namesDiv.textContent = names;
                                td.appendChild(namesDiv);
                            } else {
                                td.style.background = '#ffffff';
                            }
                        } else {
                            td.style.cssText = 'padding:1.2rem 0.5rem;min-height:100px;background:#f8f9fa;border:1px solid #e0e8ff;color:#ccc;';
                        }
                        tr.appendChild(td);
                    });
                    calendarBody.appendChild(tr);
                });
            }

            function renderApplyList() {
                const list = document.getElementById('applyList');
                const h3 = list.querySelector('h3');
                list.innerHTML = '';
                list.appendChild(h3);
                
                // 현재 월의 신청 내역만 필터링
                const currentMonthData = applyData.filter(item => item.month === currentMonth && item.year === currentYear);
                
                if(currentMonthData.length === 0) {
                    list.innerHTML += '<div style="color:#888;">이번 달 신청 내역이 없습니다.</div>';
                    return;
                }
                currentMonthData.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'apply-item';
                    div.style.cssText = 'background:#f8f9fa;padding:1rem;margin-bottom:0.5rem;border-radius:8px;border-left:4px solid #a259ff;';
                    div.innerHTML = `<b>${item.date}일</b> - <b>${item.name}</b> (${item.email})<br>${item.content}`;
                    list.appendChild(div);
                });
            }

            // 이전 달 버튼 클릭
            document.getElementById('prevMonth').addEventListener('click', function() {
                currentMonth--;
                if(currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                generateCalendar(currentYear, currentMonth);
                renderCalendar();
                renderApplyList();
            });

            // 다음 달 버튼 클릭
            document.getElementById('nextMonth').addEventListener('click', function() {
                currentMonth++;
                if(currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                generateCalendar(currentYear, currentMonth);
                renderCalendar();
                renderApplyList();
            });

            // 폼 제출 이벤트
            document.getElementById('applyForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const name = document.getElementById('name').value;
                const phone = document.getElementById('phone').value;
                const email = document.getElementById('email').value;
                const date = document.getElementById('date').value;
                const content = document.getElementById('content').value;
                const agree = document.getElementById('agree').checked;
                
                if(!name || !phone || !email || !date || !content || !agree) {
                    alert('모든 필수 항목과 개인정보 수집 동의를 완료해 주세요.');
                    return;
                }
                
                const selectedDate = new Date(date);
                const selectedYear = selectedDate.getFullYear();
                const selectedMonth = selectedDate.getMonth();
                const selectedDay = selectedDate.getDate();
                
                // 선택된 날짜가 현재 표시된 달력의 월과 다른 경우 경고
                if(selectedMonth !== currentMonth || selectedYear !== currentYear) {
                    alert('선택하신 날짜가 현재 표시된 달력과 다릅니다. 달력을 확인해 주세요.');
                    return;
                }
                
                applyData.push({ 
                    name, 
                    phone, 
                    email, 
                    date: selectedDay, 
                    month: selectedMonth,
                    year: selectedYear,
                    content 
                });
                
                renderCalendar();
                renderApplyList();
                this.reset();
            });

            // 초기화
            generateCalendar(currentYear, currentMonth);
            renderCalendar();
            renderApplyList();
        </script>
    </main>
</body>
</html> 